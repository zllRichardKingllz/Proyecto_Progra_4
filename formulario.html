<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="prismic-oauth-client-id" content="UzJVxQEAANoLZ3N0">
    <title>BurningSportS/Salud</title>
    <link rel="stylesheet" type="text/css" href="css/fomulario.css">
    <link rel="icon" type="image" href="img/logoPrincipal.png">    
    <script src="https://smtpjs.com/v3/smtp.js"></script>  
    <script src="js/jquery-3.2.1.js" type="text/javascript"> </script>    
    <script>
        $(document).ready(function () {
            let aja= document.getElementById("enfermedad");

            $("#enfermedad").click(function () {
            if(aja.checked){
                    $("#enf").show();
                    $("#detEnfermedad").show();
            }else{
                $("#enf").hide();
                    $("#detEnfermedad").hide();
            }
        });
        });

    </script>
</head>
<body>    
    <main>     
        <header>
            <div id="contLogo">
                <img src="img/logoPrincipal.png" alt="Logo BurningSportS">
            </div>
            <div id="contBanner">
                <img src="img/Banner.png" alt="banner BurningSportS" id="banner">    
            </div>        
        </header>
        <nav>
            <a href="index.html">Inicio</a>
            <a href="galeria.html">Galería</a>
            <a href="salud.html">Salud</a>
            <a href="Deporte.html">Deportes</a>        
            <a href="acercade.html">Acerca de nosotros</a>        
        </nav>         
        <article>
               <form action="js/formulario.js" method="POST">
                <h1 id="TFM">Formulario</h1>                
                <br>
                <p id="TFM2">
                    Cada dato solicitado, implicará mucho a la hora de seleccionar
                    su rutina, plan o consejos, por favor sea lo más sincero posible.
                </p>
                <br>
                <hr>
                <h2>Digita tu nombre</h2>
                <input type="text" class="posTxt" id="nom">
                <h2>Digita apellido</h2>
                <input type="text" class="posTxt" id="ape">
                <h2>Digita tu correo electrónico</h2>
                <input type="text" class="posTxt" id="ema">
                <h2>Fecha de nacimiento</h2>
                <input type="date" id="edad">
                <h2>Género</h2>
                <div id="contPrinGenero">
                <div id="contHOM">
                    <input type="radio" name="sexo" id="hom" class="posRad">
                    <label for="Hombre">Hombre</label>
                </div>
                <div id="contMUJ">
                    <input type="radio" name="sexo" id="muj" class="posRad">
                    <label for="Mujer">Mujer</label>
                </div>
                <div id="contOTR">
                    <input type="radio" name="sexo" id="otro" class="posRad">
                    <label for="Otro">Otro</label> 
                </div>
                </div>               
                <p>
                <label for="alt"><h2>Altura</h2></label>
                <input type="range" class="posTxt" id="alt" name="alt" min="1.30" max="2.10" step="0.01" value="1.70"
                onchange="document.getElementById('outalt').value=value" list="tickmarks">
                <output id="outalt" name="outalt" for="alt">1.70</output>
                </p>
                <datalist id="tickmarks">
                    <option value="1.31"></option>
                    <option value="1.32"></option>
                    <option value="1.33"></option>
                    <option value="1.34"></option>
                    <option value="1.35"></option>
                    <option value="1.36"></option>
                    <option value="1.37"></option>
                    <option value="1.38"></option>
                    <option value="1.39"></option>
                    <option value="1.40"></option>
                    <option value="1.41"></option>
                    <option value="1.42"></option>
                    <option value="1.43"></option>
                    <option value="1.44"></option>
                    <option value="1.45"></option>
                    <option value="1.46"></option>
                    <option value="1.47"></option>
                    <option value="1.48"></option>
                    <option value="1.49"></option>
                    <option value="1.50"></option>
                    <option value="1.51"></option>
                    <option value="1.52"></option>
                    <option value="1.53"></option>
                    <option value="1.54"></option>
                    <option value="1.55"></option>
                    <option value="1.56"></option>
                    <option value="1.57"></option>
                    <option value="1.58"></option>
                    <option value="1.59"></option>
                    <option value="1.60"></option>
                    <option value="1.61"></option>
                    <option value="1.62"></option>
                    <option value="1.63"></option>
                    <option value="1.64"></option>
                    <option value="1.65"></option>
                    <option value="1.66"></option>
                    <option value="1.67"></option>
                    <option value="1.68"></option>
                    <option value="1.69"></option>
                    <option value="1.70"></option>
                    <option value="1.71"></option>
                    <option value="1.72"></option>
                    <option value="1.73"></option>
                    <option value="1.74"></option>
                    <option value="1.75"></option>
                    <option value="1.76"></option>
                    <option value="1.77"></option>
                    <option value="1.78"></option>
                    <option value="1.79"></option>
                    <option value="1.80"></option>
                    <option value="1.81"></option>
                    <option value="1.82"></option>
                    <option value="1.83"></option>
                    <option value="1.84"></option>
                    <option value="1.85"></option>
                    <option value="1.86"></option>
                    <option value="1.87"></option>
                    <option value="1.88"></option>
                    <option value="1.89"></option>
                    <option value="1.90"></option>
                    <option value="1.91"></option>
                    <option value="1.92"></option>
                    <option value="1.93"></option>
                    <option value="1.94"></option>
                    <option value="1.95"></option>
                    <option value="1.96"></option>
                    <option value="1.97"></option>
                    <option value="1.98"></option>
                    <option value="1.99"></option>
                    <option value="2.00"></option>
                    <option value="2.01"></option>
                    <option value="2.02"></option>
                    <option value="2.03"></option>
                    <option value="2.04"></option>
                    <option value="2.05"></option>
                    <option value="2.06"></option>
                    <option value="2.07"></option>
                    <option value="2.08"></option>
                    <option value="2.09"></option>
                    <option value="2.10"></option>
                </datalist>
                <h2>Peso</h2>
                <input type="text" class="posTxt" id="pes">                
                <h2 class="detE">Selecciona la información que deseas recibir</h2>
                <div id="Check">
                    <div id="contPlan">
                        <input type="checkbox" name="plan" id="plan">
                        <label for="plan">Plan alimenticio</label>
                    </div>
                    <div id="contRut">
                        <input type="checkbox" name="rutina" id="rutina">
                        <label for="rutina">Rutinas</label>
                    </div>
                    <div id="contCon">
                        <input type="checkbox" name="consejo" id="consejo">
                        <label for="consejo">Consejos</label>
                    </div>
                </div>   
                <h2 class="detE">Enfermedades</h2>      
                <input type="checkbox" name="enfermedad" id="enfermedad">
                <label for="enfermedad">¿Padeces de alguna enfermedad?</label>     
                <h2 class="disNone" id="enf">Digita cual/cuales: </h2>  
                <input type="text" name="detEnfermedad" id="detEnfermedad" class="disNone">
                <hr> 
                <button type="button" name="confi" id="confi" onclick="validandoFormCompleto();">Enviar</button>            
              </form> 
            <!-- <label for="" id="contador">0</label> -->
        </article>        
    </main>
    <footer>
        <center>
            <br>
            <img src="img/logoPrincipal.png" alt="logo BurningSportS" width="100" height="100">
            <br>
            &copy; BurningSportS <br> Derechos Reservados
        </center>
</footer>
<script>
    function calculaEdad(){
         let actual = new Date();
         let userEdad = new Date(document.getElementById("edad").value);
         let age = actual.getFullYear() - userEdad.getFullYear();

        return age;
    }
    function validaGenero(){
        let man = document.getElementById("hom").checked;
        let woman = document.getElementById("muj").checked;
        let other = document.getElementById("otro").checked;
        let Gen;

        if(man === true){
            Gen = "Hombre"
        }else if(woman === true){
            Gen = "Mujer"
        }else{
            Gen = "Otro"
        }        
        return Gen;
    }
    function validaAltura(){
        let eeALTURA= document.getElementById("outalt").value;
        return eeALTURA;
    }
    function validaInfo(){
        let planA = document.getElementById("plan").checked;
        let planB = document.getElementById("rutina").checked;
        let planC = document.getElementById("consejo").checked;
        let planiUSER;
        if(planA === true && planB === false && planC === false ){
            planiUSER = "Plan alimenticio"
        }else if(planA === true && planB === true && planC === false ){
            planiUSER = "Plan alimenticio más Rutinas"
        }else if(planA === true && planB === false && planC === true ){
            planiUSER = "Plan alimenticio más Consejos"
        }else if(planA === true && planB === true && planC === true ){
            planiUSER = "Plan alimenticio más Rutinas más Consejos"
        }else if(planA === false && planB === true && planC === false ){
            planiUSER = "Rutinas"
        }else if(planA === false && planB === true && planC === true ){
            planiUSER = "Rutinas más Consejos"
        }else if(planA === false && planB === false && planC === true){
            planiUSER = "Consejos"
        }else{
            planiUSER = "No definido el plan de información"
        }     
        return planiUSER;
    }
    function validaEnfermedad(){
        let answer;
        if(document.getElementById("enfermedad").checked === true){
            answer= document.getElementById("detEnfermedad").value;
        }else{
            answer = "No posee enfermedades";
        }
        return answer;
    }
    function VALIDAText(texto){
        let patron = /^[a-zA-Z\s]*$/;
        if(!patron.test(texto)){
            return false;
        }else{
            return true;
        }
    }
    function VALIDAEMAIL(param){
        let valEma= /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/
        if(!valEma.test(param)){
            return false;
        }else{
            return true;
        }
    }
    function validandoFormCompleto(){
        var NOMBRE = document.getElementById("nom").value;
        let APELLIDO = document.getElementById("ape").value;
        var CORREO = document.getElementById("ema").value;
        let FECHANAC = document.getElementById("edad").value;
        let GENEROHOM = document.getElementById("hom").checked;
        let GENEROMUJ = document.getElementById("muj").checked;
        let GENEROOTR = document.getElementById("otro").checked;
        let PLANALIMEN = document.getElementById("plan").checked;
        let RUTINAS = document.getElementById("rutina").checked;
        let CONSEJOS = document.getElementById("consejo").checked;
        let PESO = document.getElementById("pes").value;
        let ENFERMEDAD = document.getElementById("enfermedad").checked;
        let DETENFERMEDAD = document.getElementById("detEnfermedad").value;
        
        if(GENEROHOM === false && GENEROMUJ === false && GENEROOTR === false){
            alert("Primero selecciona un genero");
        }else if(NOMBRE === null || NOMBRE === ''){
            alert("Primero digita un nombre");
        }else if(APELLIDO === null || APELLIDO === ''){
            alert("Primero digita un apellido");
        }else if(CORREO === null || CORREO === ''){
            alert("Primero digita un correo electrónico");
        }else if(PESO === null || PESO === ''){
            alert("Primero digita un peso");
        }else if(PLANALIMEN === false && RUTINAS === false && CONSEJOS === false){
            alert("Primero selecciona la información que deseas recibir");
        }else if(FECHANAC === null || FECHANAC === ''){
            alert("Primero danos tu fecha de nacimiento");
        }else if(ENFERMEDAD === true ){
            if( DETENFERMEDAD === null || DETENFERMEDAD === ''){
                alert("Primero describa su enfermedad antes");
            }           
        }else if(VALIDAEMAIL(CORREO) == false){
            alert("CORREO INVALIDO");
        }else if(VALIDAText(NOMBRE) == false){
            alert("Solo letras en el nombre y sin tildes");
        }else if(VALIDAText(APELLIDO) == false){
            alert("Solo letras en el apellido y sin tildes");
        }else if(VALIDAText(PESO) == true){
            alert("Solo numeros en el peso");
        }else{
            sendEmail();
        }
    }
  function sendEmail() {
            Email.send({
                SecureToken: "6b3c6445-490b-4711-a1c9-b07b98fe2902",
                From: "richard11121998@gmail.com",
                To: document.getElementById("ema").value + ","+ 'richard11121998@gmail.com',
                Subject: "Bienvenid@ a nuestra grán empresa BurningSportS " + document.getElementById("nom").value,
                Body: "Este es un correo de confirmación, prónto nos pondremos en contacto contigo, muchas grácias por su preferencia."+"<br />"+"Adjuntamos sus datos para la verificaión de los mismos " +"<br />"
                +"<br />"+ "Nombre: "+ document.getElementById("nom").value +"<br />"+
                "Apellido: " + document.getElementById("ape").value +"<br />"+
                "Email: " + document.getElementById("ema").value +"<br />"+
                "Edad: " + calculaEdad() +"<br />"+
                "Genero: " + validaGenero() +"<br />"+
                "Altura: " + validaAltura() +"<br />"+
                "Peso: " + document.getElementById("pes").value +"<br />"+
                "Información solicitada: " + validaInfo() +"<br />"+
                "Padecimientos: " + validaEnfermedad()
            })
                .then(function (message) {
                    alert("Correo enviado?: " + message)
                });                
        }
</script>
<!-- <script>
    function sendEmail() {
              Email.send({
                  SecureToken: "6b3c6445-490b-4711-a1c9-b07b98fe2902",
                  From: "richard11121998@gmail.com",
                  To: document.getElementById("ema").value,
                  Subject: "BurningSportS",
                  Body: "Este es un correo generado de confirmación, pronto nos pondremos en contácto contigo, muchas grácias por su preferencia."
              })
                  .then(function (message) {
                      alert("Estatus: " + message)
                  });
          }
  </script> -->
  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
</body>
</html>